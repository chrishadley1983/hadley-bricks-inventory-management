# Merge Report: fix/inventory-api-listing-optimiser

**Date:** 2026-01-28
**PR:** #29
**Commit:** faa02f5
**Track:** FIX

---

## Summary

Fixed the listing optimiser to support listings created via the eBay Inventory API. Previously, these listings would fail with "Inventory-based listing management is not currently supported by this tool" when attempting to apply optimisation suggestions.

## Changes

| File | Changes |
|------|---------|
| `apps/web/src/lib/ebay/listing-optimiser.service.ts` | +147/-2 |

### Details

- Added automatic detection of inventory-based listings via error message
- Implemented `applyChangeViaInventoryApi()` fallback method
- Maps suggestion categories to Inventory API fields:
  - Title → `inventory_item.product.title`
  - Description → `inventory_item.product.description`
  - Item Specifics → `inventory_item.product.aspects`
  - Condition Description → `inventory_item.conditionDescription`
  - Condition → `inventory_item.condition` (enum)

## Verification

| Check | Status |
|-------|--------|
| TypeScript | ✅ Pass |
| ESLint | ✅ Pass |
| Code Review | ✅ Approved |
| Production Accessible | ✅ Verified |

## Deployment

- **Production URL:** https://hadley-bricks-inventory-management.vercel.app
- **Deployment Status:** ✅ Live
- **Rollback Commit:** 2d24da7

## Test Plan

To verify the fix works:
1. Create a new listing using the eBay Listing Assistant
2. Navigate to Listing Optimiser
3. Select the newly created listing
4. Run analysis and approve any suggestion
5. Verify the change is applied successfully

---

*Generated by Merge Feature Agent*
