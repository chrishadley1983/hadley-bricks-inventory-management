# Merge Report: chore/gcs-cron-migration

**Date:** 2026-01-30
**PR:** #60
**Merge Commit:** de886f2

## Summary

Migrated all Hadley Bricks cron jobs to Google Cloud Scheduler for consistency, removing the GitHub Actions workflow for ebay-fp-cleanup, and added Discord reporting to the refresh-watchlist endpoint.

## Changes

### Google Cloud Scheduler Jobs Created

| Job | Schedule | Endpoint |
|-----|----------|----------|
| `full-sync` | `45 7,13 * * *` | `/api/cron/full-sync` |
| `ebay-fp-cleanup` | `0 4 * * *` | `/api/cron/ebay-fp-cleanup` |

### Files Changed

1. **Deleted:** `.github/workflows/ebay-fp-cleanup-cron.yml`
   - Migrated to Google Cloud Scheduler

2. **Modified:** `apps/web/src/app/api/cron/refresh-watchlist/route.ts`
   - Added Discord notification on success → #sync-status
   - Added Discord alert on failure → #alerts

## Verification

| Check | Status |
|-------|--------|
| TypeScript | ✅ Pass |
| PR Merged | ✅ Complete |
| Branch Deleted | ✅ Complete |

## Google Cloud Scheduler Status

All 9 Hadley Bricks cron jobs now run via GCS:

```
ID                      SCHEDULE            STATE
full-sync               45 7,13 * * *       ENABLED
ebay-fp-cleanup         0 4 * * *           ENABLED
amazon-two-phase-sync   */5 * * * *         ENABLED
amazon-pricing-sync     0 4 * * *           ENABLED
ebay-pricing-sync       0 2 * * *           ENABLED
bricklink-pricing-sync  30 2 * * *          ENABLED
ebay-negotiation-sync   0 8,12,16,20 * * *  ENABLED
vinted-cleanup          0 0 * * *           ENABLED
refresh-watchlist       0 3 * * 0           ENABLED
```

## Next Scheduled Runs

- **full-sync:** 1:45pm UTC today (first run!)
- **ebay-fp-cleanup:** 4:00am UTC tomorrow (via GCS instead of GitHub Actions)
- **refresh-watchlist:** Sunday 3:00am UTC (now with Discord reporting)

---

*Generated by Merge Feature Agent*
